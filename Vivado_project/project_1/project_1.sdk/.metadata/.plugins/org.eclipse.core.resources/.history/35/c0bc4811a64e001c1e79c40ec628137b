#include "NeuralNetwork.h"

/*int8_t bias_[] = {
	#include "bias.dat"
};

int8_t weights_[] = {
	#include "weights.dat"
};*/

uint8_t getChoiceFromUser()
{
	xil_printf("Enter choice: \r\n");
	/* Read an input value from the console. */
	uint8_t value = inbyte();
	xil_printf("\r\n\r\n");

	return value-48;
}

int main()
{
	int input[80] = {2,  0,  3,  1, -3,  0,  0,  1,  3,  1, -1,  1,  0, -1,  1,  1, -1,
	        1, -1,  0, -2, -2,  0,  0, -1,  0,  0, -1,  0,  0,  0, -1,  1,  0,
	        0,  1,  0,  0,  1,  1,  0,  0,  1,  0,  0,  0,  1, -1,  0,  0,  0,
	        0, -1,  1, -1,  0, -1,  0, -1,  0,  0,  1, -1,  0,  0,  0, -1,  0,
	        0,  0,  0,  0,  0,  0,  0, -1,  0,  0,  0,  0
};

	NeuralNetwork* nn = NeuralNetwork::getInstance();

	//u32 res = nn->setBias((char*)bias_);
	//res = nn->setWeights((char*)weights_);

	u32 res = nn->runNN((char*) input);
	xil_printf("Res is %d\r\n", res);

	while(1){
		uint8_t choice = getChoiceFromUser();

	}
	xil_printf("Done\r\n");
	return 0;
}
